/*************************************
项目名称：诗歌问答|PKC
更新日期：2025-03-08
脚本作者：@Sheepfj
使用声明：⚠️仅供参考，🈲转载与售卖！
TG频道：https://t.me/sheep_007xiaoyang
GitHub：https://github.com/SheepFJ/QuantumultX
脚本说明：用于PKC插件的视频与文本接口
============ Quantumult X ============

[rewrite_local]
^https:\/\/api\.sheep\.com\/sheep\/poetry\/answer\/([^\/]+)\/? url script-response-body https://raw.githubusercontent.com/SheepFJ/QuantumultX/refs/heads/main/QuantumultX/API/poetryanawer/poetryanawer.js
[mitm]
hostname = api.sheep.com

================ Loon ==================

*************************************/


const _0x14b932=_0x21ee;(function(_0x547442,_0x58b7a6){const _0x3e5ac4=_0x21ee,_0x255ded=_0x547442();while(!![]){try{const _0x4e0bcc=-parseInt(_0x3e5ac4(0x1ea))/0x1+-parseInt(_0x3e5ac4(0x1ec))/0x2*(parseInt(_0x3e5ac4(0x1d3))/0x3)+parseInt(_0x3e5ac4(0x1c9))/0x4*(parseInt(_0x3e5ac4(0x1f1))/0x5)+parseInt(_0x3e5ac4(0x1d9))/0x6+parseInt(_0x3e5ac4(0x1e3))/0x7*(parseInt(_0x3e5ac4(0x1d2))/0x8)+parseInt(_0x3e5ac4(0x1c5))/0x9+-parseInt(_0x3e5ac4(0x1e6))/0xa;if(_0x4e0bcc===_0x58b7a6)break;else _0x255ded['push'](_0x255ded['shift']());}catch(_0x1a987){_0x255ded['push'](_0x255ded['shift']());}}}(_0x195b,0xcc2f0));const isLoon=typeof $persistentStore!==_0x14b932(0x1e0),isQuanX=typeof $prefs!=='undefined',storage={'get':_0x1b1cf4=>isLoon?$persistentStore['read'](_0x1b1cf4):$prefs['valueForKey'](_0x1b1cf4),'set':(_0x344492,_0x43f0d7)=>isLoon?$persistentStore['write'](_0x43f0d7,_0x344492):$prefs[_0x14b932(0x1dc)](_0x43f0d7,_0x344492)};function fetch(_0xce1174,_0x52e529){const _0x2c4dd0=_0x14b932;if(isQuanX)$task['fetch']({'url':_0xce1174[_0x2c4dd0(0x1eb)]})[_0x2c4dd0(0x1ef)](_0x5c68d7=>{const _0x5e4b8d=_0x2c4dd0;_0x52e529(null,_0x5c68d7[_0x5e4b8d(0x1e7)]);})[_0x2c4dd0(0x1c6)](_0x541012=>_0x52e529(_0x541012));else isLoon&&$httpClient[_0x2c4dd0(0x1f0)](_0xce1174,(_0x27f0f0,_0x5ec0c4,_0x40c799)=>{_0x52e529(_0x27f0f0,_0x40c799);});}function _0x195b(){const _0x3403b0=['parse','toString','then','get','5vvBQkk','error','13343229NqMCiY','catch','HTTP/1.1\x20200\x20OK','prototype','3255484aqBJLN','set','length','trace','HTTP/1.1\x20400\x20Bad\x20Request','console','text/plain;\x20charset=utf-8','\x0aB.\x20','info','8106352rcfnZX','596121dyJjrl','search','__proto__','\x0aA.\x20','{}.constructor(\x22return\x20this\x22)(\x20)','toUpperCase','4197888HlwAEh','(((.+)+)+)+$','apply','setValueForKey','请求失败','sheep_poetry_answer','code','undefined','log','https://apis.tianapi.com/scwd/index?key=5a1e06d347d0061539225b218156adbf','7Pwszsd','bind','‘诗歌=出题’/‘诗歌=选项’','19318400eRCATe','body','constructor','exception','247683SlksEb','url','10Edufxw'];_0x195b=function(){return _0x3403b0;};return _0x195b();}function handlePoetryRequest(){const _0x5eee25=_0x14b932,_0x4b14b8=(function(){let _0x2bc117=!![];return function(_0x421e88,_0x4d5436){const _0x4dabdf=_0x2bc117?function(){if(_0x4d5436){const _0x518de1=_0x4d5436['apply'](_0x421e88,arguments);return _0x4d5436=null,_0x518de1;}}:function(){};return _0x2bc117=![],_0x4dabdf;};}()),_0x45e8b9=(function(){let _0x2c5f65=!![];return function(_0x50771a,_0x463e86){const _0x2f7cbb=_0x2c5f65?function(){const _0x459f21=_0x21ee;if(_0x463e86){const _0x43a2ec=_0x463e86[_0x459f21(0x1db)](_0x50771a,arguments);return _0x463e86=null,_0x43a2ec;}}:function(){};return _0x2c5f65=![],_0x2f7cbb;};}()),_0x205d34=$request[_0x5eee25(0x1eb)],_0x3c72df=_0x205d34['match'](/\/sheep\/poetry\/answer\/([^\/]+)/);if(!_0x3c72df)return $done();const _0x2b4c45=decodeURIComponent(_0x3c72df[0x1])[_0x5eee25(0x1d8)](),_0xe735a4=_0x5eee25(0x1e2),_0x5b21b6=_0x5eee25(0x1de),_0x9c42dd='sheep_poetry_analytic';function _0xcf8605(_0x3b834e){const _0x1318ab=_0x4b14b8(this,function(){const _0x5ebda0=_0x21ee;return _0x1318ab['toString']()[_0x5ebda0(0x1d4)](_0x5ebda0(0x1da))[_0x5ebda0(0x1ee)]()[_0x5ebda0(0x1e8)](_0x1318ab)[_0x5ebda0(0x1d4)]('(((.+)+)+)+$');});_0x1318ab();const _0x11e2c2=_0x45e8b9(this,function(){const _0x45253c=_0x21ee,_0x1a0f51=function(){const _0x162670=_0x21ee;let _0x789f1a;try{_0x789f1a=Function('return\x20(function()\x20'+_0x162670(0x1d7)+');')();}catch(_0x40cf2d){_0x789f1a=window;}return _0x789f1a;},_0x590480=_0x1a0f51(),_0x55ec23=_0x590480['console']=_0x590480[_0x45253c(0x1ce)]||{},_0x315de8=[_0x45253c(0x1e1),'warn',_0x45253c(0x1d1),_0x45253c(0x1c4),_0x45253c(0x1e9),'table',_0x45253c(0x1cc)];for(let _0x49e10d=0x0;_0x49e10d<_0x315de8[_0x45253c(0x1cb)];_0x49e10d++){const _0x4d1527=_0x45e8b9[_0x45253c(0x1e8)][_0x45253c(0x1c8)][_0x45253c(0x1e4)](_0x45e8b9),_0x377b13=_0x315de8[_0x49e10d],_0xbb27c6=_0x55ec23[_0x377b13]||_0x4d1527;_0x4d1527[_0x45253c(0x1d5)]=_0x45e8b9['bind'](_0x45e8b9),_0x4d1527[_0x45253c(0x1ee)]=_0xbb27c6[_0x45253c(0x1ee)][_0x45253c(0x1e4)](_0xbb27c6),_0x55ec23[_0x377b13]=_0x4d1527;}});_0x11e2c2(),fetch({'url':_0xe735a4},(_0x40baef,_0x350f78)=>{_0x40baef?_0x3b834e(_0x40baef,null):_0x3b834e(null,_0x350f78);});}if(_0x2b4c45==='出题')_0xcf8605((_0x15bd50,_0x5dfce7)=>{const _0x455ef7=_0x5eee25;if(_0x15bd50)return $done({'status':'HTTP/1.1\x20500\x20Internal\x20Server\x20Error','body':_0x455ef7(0x1dd)});let _0x2ecb0b=JSON[_0x455ef7(0x1ed)](_0x5dfce7);if(_0x2ecb0b[_0x455ef7(0x1df)]===0xc8){let {question:_0x3a14ec,answer_a:_0x3b7e5f,answer_b:_0x50b839,answer_c:_0x528a5e,answer:_0x3a3b3a,analytic:_0x5e0eb3}=_0x2ecb0b['result'];storage[_0x455ef7(0x1ca)](_0x5b21b6,_0x3a3b3a),storage[_0x455ef7(0x1ca)](_0x9c42dd,_0x5e0eb3);let _0x26dfc6=_0x3a14ec+_0x455ef7(0x1d6)+_0x3b7e5f+_0x455ef7(0x1d0)+_0x50b839+'\x0aC.\x20'+_0x528a5e;$done({'status':_0x455ef7(0x1c7),'headers':{'Content-Type':_0x455ef7(0x1cf)},'body':_0x26dfc6});}else $done({'status':'HTTP/1.1\x20500\x20Internal\x20Server\x20Error','body':'请执行‘诗歌=出题’命令'});});else{if(['A','B','C']['includes'](_0x2b4c45)){let _0x19e79b=storage['get'](_0x5b21b6),_0x25e956=storage[_0x5eee25(0x1f0)](_0x9c42dd);if(!_0x19e79b)$done({'status':_0x5eee25(0x1cd),'body':'请先出题'});else{let _0x99e6ca=_0x2b4c45===_0x19e79b?'回答正确！\x0a解析：'+_0x25e956:'回答错误！正确答案是\x20'+_0x19e79b+'。\x0a解析：'+_0x25e956;$done({'status':'HTTP/1.1\x20200\x20OK','headers':{'Content-Type':'text/plain;\x20charset=utf-8'},'body':_0x99e6ca});}}else $done({'status':_0x5eee25(0x1cd),'body':_0x5eee25(0x1e5)});}}function _0x21ee(_0x59a4cf,_0x4cb129){const _0x19854f=_0x195b();return _0x21ee=function(_0x160426,_0x4272ac){_0x160426=_0x160426-0x1c4;let _0x4c3a0f=_0x19854f[_0x160426];return _0x4c3a0f;},_0x21ee(_0x59a4cf,_0x4cb129);}handlePoetryRequest();

