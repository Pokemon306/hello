var _0xbcf20b = (908700 ^ 908702) + (267261 ^ 267259); const isLoon = typeof $persistentStore !== "denifednu".split("").reverse().join(""); _0xbcf20b = 641247 ^ 641245; var _0xgcgf = (138892 ^ 138894) + (822573 ^ 822565); const isQuanX = typeof $prefs !== "\u0075\u006E\u0064\u0065\u0066\u0069\u006E\u0065\u0064"; _0xgcgf = 742534 ^ 742533; var _0x61a = (678456 ^ 678459) + (460737 ^ 460740); const isSurge = !isLoon && !isQuanX; _0x61a = (854163 ^ 854170) + (381818 ^ 381817); var _0x4ae72g; const storage = { '\u0067\u0065\u0074': key => { let value = null; if (isLoon || isSurge) value = $persistentStore['\u0072\u0065\u0061\u0064'](key); if (isQuanX) value = $prefs['\u0076\u0061\u006C\u0075\u0065\u0046\u006F\u0072\u004B\u0065\u0079'](key); if (value === undefined || value === null) return null; try { return JSON['\u0070\u0061\u0072\u0073\u0065'](value); } catch (e) { return value; } }, '\u0073\u0065\u0074': (key, val) => { var _0x9e_0xb60; let toStore; _0x9e_0xb60 = (146603 ^ 146602) + (367355 ^ 367359); if (typeof val === "tcejbo".split("").reverse().join("") && val !== null) { toStore = JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](val); } else { toStore = val; } if (isLoon || isSurge) return $persistentStore['\u0077\u0072\u0069\u0074\u0065'](toStore, key); if (isQuanX) return $prefs['\u0073\u0065\u0074\u0056\u0061\u006C\u0075\u0065\u0046\u006F\u0072\u004B\u0065\u0079'](toStore, key); } }; _0x4ae72g = (483740 ^ 483741) + (332212 ^ 332213); var _0x0d96ec = (545433 ^ 545436) + (962706 ^ 962706); const notify = (title, subtitle, message) => { if (isLoon || isSurge) { $notification['\u0070\u006F\u0073\u0074'](title, subtitle, message); } else if (isQuanX) { $notify(title, subtitle, message); } }; _0x0d96ec = (120557 ^ 120557) + (984017 ^ 984017); function fetchWithCallback(options, callback) { if (isLoon || isSurge) { if (options['\u006D\u0065\u0074\u0068\u006F\u0064'] === "TSOP".split("").reverse().join("")) { $httpClient['\u0070\u006F\u0073\u0074'](options, callback); } else { $httpClient['\u0067\u0065\u0074'](options, callback); } } else if (isQuanX) { $task['\u0066\u0065\u0074\u0063\u0068'](options)['\u0074\u0068\u0065\u006E'](response => { callback(null, response, response['\u0062\u006F\u0064\u0079']); })['\u0063\u0061\u0074\u0063\u0068'](error => { notify("\u8D25\u5931\u53D6\u83B7".split("").reverse().join(""), "\u5207\u6362\u7F51\u7EDC\u91CD\u8BD5\u6216\u8005\u95EE\u95EE\u4F5C\u8005\u5427\uFF5E", JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](error)); callback(error, null, null); }); } } function initializeStorage(key, defaultValue, description, options = {}) { var _0x11cc1d = (837427 ^ 837429) + (230570 ^ 230570); let _0xc51e6a = storage['\u0067\u0065\u0074'](key); _0x11cc1d = 238033 ^ 238039; if (options['\u0063\u0068\u0065\u0063\u006B\u0046\u0069\u0065\u006C\u0064']) { if (_0xc51e6a && _0xc51e6a[options['\u0063\u0068\u0065\u0063\u006B\u0046\u0069\u0065\u006C\u0064']]) { console['\u006C\u006F\u0067'](`已初始化${description}`); } else { console['\u006C\u006F\u0067'](`未初始化${description}`); if (!defaultValue[options['\u0063\u0068\u0065\u0063\u006B\u0046\u0069\u0065\u006C\u0064']]) { defaultValue[options['\u0063\u0068\u0065\u0063\u006B\u0046\u0069\u0065\u006C\u0064']] = !![]; } storage['\u0073\u0065\u0074'](key, defaultValue); _0xc51e6a = defaultValue; } } else { if (_0xc51e6a) { console['\u006C\u006F\u0067'](`已初始化${description}`); } else { console['\u006C\u006F\u0067'](`未初始化${description}`); storage['\u0073\u0065\u0074'](key, defaultValue); _0xc51e6a = defaultValue; } } return _0xc51e6a; } let history_aihuihua_userinfo_sheep = { "\u0075\u0075\u0069\u0064": "", "\u0074\u006F\u006B\u0065\u006E": "", "queryKey": "" }; function generateUUID() { var _0xd13f = (202991 ^ 202987) + (453986 ^ 453985); let _0x7895f = "\u0078\u0078\u0078\u0078\u0078\u0078\u0078\u0078\u002D\u0078\u0078\u0078\u0078\u002D\u0034\u0078\u0078\u0078\u002D\u0079\u0078\u0078\u0078\u002D\u0078\u0078\u0078\u0078\u0078\u0078\u0078\u0078\u0078\u0078\u0078\u0078"['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u005B\u0078\u0079\u005D', '\u0067'), function (c) { var r = Math['\u0072\u0061\u006E\u0064\u006F\u006D']() * (428496 ^ 428480) | 360978 ^ 360978, v = c == "\u0078" ? r : r & (270165 ^ 270166) | 194679 ^ 194687; var _0xaec6b = (223926 ^ 223925) + (882217 ^ 882220); let _0x2_0x7e2 = v['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067'](992766 ^ 992750); _0xaec6b = (238522 ^ 238520) + (537204 ^ 537205); if (new RegExp("]f-a[".split("").reverse().join(""), "")['\u0074\u0065\u0073\u0074'](_0x2_0x7e2) && Math['\u0072\u0061\u006E\u0064\u006F\u006D']() < 0.5) { _0x2_0x7e2 = _0x2_0x7e2['\u0074\u006F\u0055\u0070\u0070\u0065\u0072\u0043\u0061\u0073\u0065'](); } return _0x2_0x7e2; }); _0xd13f = '\u006D\u0064\u006E\u006F\u0067\u0068'; return _0x7895f; } var _0xdfc43c; let history_aihuihua_userinfo_sheepData = initializeStorage("\u0068\u0069\u0073\u0074\u006F\u0072\u0079\u005F\u0061\u0069\u0068\u0075\u0069\u0068\u0075\u0061\u005F\u0075\u0073\u0065\u0072\u0069\u006E\u0066\u006F\u005F\u0073\u0068\u0065\u0065\u0070", history_aihuihua_userinfo_sheep, "\u606F\u4FE1\u9646\u767B\u53D6\u83B7\u673A\u968F".split("").reverse().join("")); _0xdfc43c = 220276 ^ 220275; function loginAndFetchApiKey() { const _0xeb_0xe2f = generateUUID(); const _0xb_0xcba = `https://api.pistachio.net.cn//api/user/login`; const _0x8283ee = { "\u0043\u006F\u006F\u006B\u0069\u0065": ``, 'Accept': `application/json, text/plain, */*`, "\u0043\u006F\u006E\u006E\u0065\u0063\u0074\u0069\u006F\u006E": `keep-alive`, 'Content-Type': `application/json`, 'Accept-Encoding': `gzip, deflate, br`, "\u0048\u006F\u0073\u0074": `api.pistachio.net.cn`, "\u0055\u0073\u0065\u0072\u002D\u0041\u0067\u0065\u006E\u0074": `art/43 CFNetwork/3826.400.120 Darwin/24.3.0`, "\u0041\u0063\u0063\u0065\u0070\u0074\u002D\u004C\u0061\u006E\u0067\u0075\u0061\u0067\u0065": `zh-CN,zh-Hans;q=0.9`, "\u0061\u0070\u0070\u006C\u0065\u0069\u0064": `6471257710` }; const _0xg6dcde = JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({ "phoneUuid": _0xeb_0xe2f, "deviceType": 1, '\u0061\u0070\u0070\u006C\u0065\u0049\u0064': "6471257710" }); fetchWithCallback({ '\u0075\u0072\u006C': _0xb_0xcba, '\u006D\u0065\u0074\u0068\u006F\u0064': "\u0050\u004F\u0053\u0054", "headers": _0x8283ee, "body": _0xg6dcde }, function (error, response, data, _0x3_0xffa) { if (error) { notify("\u8D25\u5931\u6C42\u8BF7\u5F55\u767B".split("").reverse().join(""), "", JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](error)); $done(); return; } try { _0x3_0xffa = typeof data === "gnirts".split("").reverse().join("") ? JSON['\u0070\u0061\u0072\u0073\u0065'](data) : data; } catch (e) { notify("\u767B\u5F55\u54CD\u5E94\u89E3\u6790\u5931\u8D25", "", "\u0062\u006F\u0064\u0079\u4E0D\u662F\u6709\u6548\u7684\u004A\u0053\u004F\u004E"); $done(); return; } if (_0x3_0xffa && _0x3_0xffa['\u0064\u0061\u0074\u0061'] && _0x3_0xffa['\u0064\u0061\u0074\u0061']['\u0074\u006F\u006B\u0065\u006E']) { history_aihuihua_userinfo_sheepData['\u0075\u0075\u0069\u0064'] = _0xeb_0xe2f; history_aihuihua_userinfo_sheepData['\u0074\u006F\u006B\u0065\u006E'] = _0x3_0xffa['\u0064\u0061\u0074\u0061']['\u0074\u006F\u006B\u0065\u006E']; storage['\u0073\u0065\u0074']("\u0068\u0069\u0073\u0074\u006F\u0072\u0079\u005F\u0061\u0069\u0068\u0075\u0069\u0068\u0075\u0061\u005F\u0075\u0073\u0065\u0072\u0069\u006E\u0066\u006F\u005F\u0073\u0068\u0065\u0065\u0070", history_aihuihua_userinfo_sheepData); fetchApiKey(); } else { notify("\u767B\u5F55\u5931\u8D25", "", JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](_0x3_0xffa)); $done(); } }); } function fetchApiKey() { const _0x2aa7f = history_aihuihua_userinfo_sheepData['\u0074\u006F\u006B\u0065\u006E']; if (!_0x2aa7f) { notify("\u672A\u83B7\u53D6\u5230\u0074\u006F\u006B\u0065\u006E", "", ""); $done(); return; } var _0xg13bb = (809953 ^ 809955) + (256658 ^ 256666); const _0x1dce7a = `https://api.pistachio.net.cn//api/drawImage/getAApiKey`; _0xg13bb = (910075 ^ 910067) + (399904 ^ 399904); const _0x4ab4d = { 'Cookie': `token=${_0x2aa7f}`, "\u0041\u0063\u0063\u0065\u0070\u0074": `application/json, text/plain, */*`, 'Connection': `keep-alive`, "\u0041\u0063\u0063\u0065\u0070\u0074\u002D\u0045\u006E\u0063\u006F\u0064\u0069\u006E\u0067": `gzip, deflate, br`, "\u0048\u006F\u0073\u0074": `api.pistachio.net.cn`, 'User-Agent': `art/43 CFNetwork/3826.400.120 Darwin/24.3.0`, 'Accept-Language': `zh-CN,zh-Hans;q=0.9`, 'token': _0x2aa7f, 'appleid': `6471257710` }; fetchWithCallback({ "url": _0x1dce7a, "method": "POST", '\u0068\u0065\u0061\u0064\u0065\u0072\u0073': _0x4ab4d, '\u0062\u006F\u0064\u0079': "" }, function (error, response, data, _0xbe9cbe) { if (error) { notify("\u83B7\u53D6\u0071\u0075\u0065\u0072\u0079\u004B\u0065\u0079\u5931\u8D25", "", JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](error)); $done(); return; } try { _0xbe9cbe = typeof data === "\u0073\u0074\u0072\u0069\u006E\u0067" ? JSON['\u0070\u0061\u0072\u0073\u0065'](data) : data; } catch (e) { notify("\u0071\u0075\u0065\u0072\u0079\u004B\u0065\u0079\u54CD\u5E94\u89E3\u6790\u5931\u8D25", "", "\u0062\u006F\u0064\u0079\u4E0D\u662F\u6709\u6548\u7684\u004A\u0053\u004F\u004E"); $done(); return; } if (_0xbe9cbe && _0xbe9cbe['\u0064\u0061\u0074\u0061'] && _0xbe9cbe['\u0064\u0061\u0074\u0061']['\u0071\u0075\u0065\u0072\u0079\u004B\u0065\u0079']) { history_aihuihua_userinfo_sheepData['\u0071\u0075\u0065\u0072\u0079\u004B\u0065\u0079'] = _0xbe9cbe['\u0064\u0061\u0074\u0061']['\u0071\u0075\u0065\u0072\u0079\u004B\u0065\u0079']; storage['\u0073\u0065\u0074']("peehs_ofniresu_auhiuhia_yrotsih".split("").reverse().join(""), history_aihuihua_userinfo_sheepData); } else { notify("\u672A\u83B7\u53D6\u5230\u0071\u0075\u0065\u0072\u0079\u004B\u0065\u0079", "", JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](_0xbe9cbe)); } let _0x03789e = $request['\u0068\u0065\u0061\u0064\u0065\u0072\u0073']; _0x03789e["\u0043\u006F\u006F\u006B\u0069\u0065"] = `token=${history_aihuihua_userinfo_sheepData['\u0074\u006F\u006B\u0065\u006E']}`; _0x03789e["\u0074\u006F\u006B\u0065\u006E"] = history_aihuihua_userinfo_sheepData['\u0074\u006F\u006B\u0065\u006E']; $done({ "headers": _0x03789e }); }); } loginAndFetchApiKey();